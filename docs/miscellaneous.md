# ä¸€äº›å¥½ç©çš„ç¨‹åº

Python ä¸ä»…ä»…å¯ä»¥ç”¨æ¥å¤„ç†æ¯ç‡¥çš„æ•°æ®å’Œå¤æ‚çš„ç®—æ³•ï¼Œå®ƒåŒæ ·å¯ä»¥ç”¨æ¥ç¼–å†™ä¸€äº›æå…¶æœ‰è¶£ã€å¯Œæœ‰åˆ›æ„ç”šè‡³â€œè„‘æ´å¤§å¼€â€çš„ç¨‹åºã€‚

## çº¯ä¸­æ–‡ç¼–ç¨‹

Python 3 å°†æºä»£ç è§†ä¸º UTF-8 ç¼–ç ã€‚è¿™æ„å‘³ç€åªè¦æ˜¯ Unicode å­—ç¬¦é›†ä¸­è¢«å½’ç±»ä¸ºâ€œå­—æ¯â€çš„å­—ç¬¦ï¼ˆåŒ…æ‹¬æ±‰å­—ï¼‰ï¼Œéƒ½å¯ä»¥ç”¨ä½œæ ‡è¯†ç¬¦ã€‚åœ¨æŸäº›ç‰¹å®šé¢†åŸŸï¼ˆå¦‚é’ˆå¯¹éè‹±è¯­æ¯è¯­è€…çš„æ•™å­¦ï¼Œæˆ–è€…ç‰¹å®šä¸šåŠ¡é€»è¾‘æå…¶å¤æ‚çš„é‡‘è/æ³•å¾‹ç³»ç»Ÿï¼‰ï¼Œä½¿ç”¨ä¸­æ–‡å˜é‡åæœ‰æ—¶èƒ½æé«˜ä»£ç å¯¹ä¸šåŠ¡ä¸“å®¶çš„å¯è¯»æ€§ã€‚

ä¸‹é¢çš„æ¼”ç¤ºæ˜¯ä¸€ä¸ªâ€œå†³æˆ˜ç´«ç¦ä¹‹å·…â€çš„æ–‡å­—æ­¦ä¾ å°æ¸¸æˆã€‚åœ¨è¿™ä¸ªç¨‹åºä¸­ï¼Œé™¤äº† Python çš„ä¿ç•™å…³é”®å­—ï¼ˆå¦‚ def, class, if, while, import, return ç­‰ï¼‰ï¼Œæ‰€æœ‰çš„è‡ªå®šä¹‰åç§°å…¨éƒ¨ä½¿ç”¨äº†ä¸­æ–‡ã€‚

```python
import random as å¤©æ„
import time as æ—¶å…‰

# å°† Python å†…ç½®å‡½æ•°å–ä¸ªä¸­æ–‡åˆ«åï¼Œæ˜¾å¾—æ›´â€œåŸç”Ÿâ€
è¾“å‡º = print
ç­‰å¾… = æ—¶å…‰.sleep

class ä¾ å®¢:
    def __init__(æœ¬åº§, å°Šå§“å¤§å, åˆå§‹å†…åŠ›, ç‹¬é—¨ç»æŠ€):
        æœ¬åº§.åå· = å°Šå§“å¤§å
        æœ¬åº§.å†…åŠ› = åˆå§‹å†…åŠ›
        æœ¬åº§.ç»æŠ€ = ç‹¬é—¨ç»æŠ€
        æœ¬åº§.çŠ¶æ€ = "ç”Ÿé¾™æ´»è™"

    def å±•ç¤ºåå¸–(æœ¬åº§):
        è¾“å‡º(f"ã€{æœ¬åº§.åå·}ã€‘ è¸å…¥äº†æ±Ÿæ¹–ï¼Œå†…åŠ›æ·±åšï¼š{æœ¬åº§.å†…åŠ›}")

    def å‡ºæ‹›(æœ¬åº§, å¯¹æ‰‹):
        # éšæœºå†³å®šæ˜¯å¦å‘åŠ¨æš´å‡»
        è¿åŠ¿ = å¤©æ„.randint(1, 10)
        
        if è¿åŠ¿ > 8:
            ä¼¤å®³ = å¤©æ„.randint(25, 40)
            è¾“å‡º(f"âš¡ {æœ¬åº§.åå·} æ€’å¼ä¸€å£°ï¼Œä½¿å‡ºäº†æ¯•ç”Ÿç»å­¦ã€Œ{æœ¬åº§.ç»æŠ€}ã€ï¼")
            è¾“å‡º(f"   å¤©å´©åœ°è£‚ï¼å¯¹ {å¯¹æ‰‹.åå·} é€ æˆäº† {ä¼¤å®³} ç‚¹æš´å‡»ä¼¤å®³ï¼")
        else:
            ä¼¤å®³ = å¤©æ„.randint(10, 20)
            æ‹›å¼åˆ—è¡¨ = ["é»‘è™æå¿ƒ", "ç™½é¹¤äº®ç¿…", "å¤ªç¥–é•¿æ‹³", "æ‰«å ‚è…¿"]
            æ™®é€šä¸€æ‹› = å¤©æ„.choice(æ‹›å¼åˆ—è¡¨)
            è¾“å‡º(f"âš”ï¸ {æœ¬åº§.åå·} ä½¿å‡ºä¸€æ‹›ã€Œ{æ™®é€šä¸€æ‹›}ã€ï¼Œå‡»ä¸­äº† {å¯¹æ‰‹.åå·}ã€‚")
            è¾“å‡º(f"   é€ æˆäº† {ä¼¤å®³} ç‚¹ä¼¤å®³ã€‚")

        å¯¹æ‰‹.å—ä¼¤(ä¼¤å®³)

    def å—ä¼¤(æœ¬åº§, ä¼¤å®³å€¼):
        æœ¬åº§.å†…åŠ› = æœ¬åº§.å†…åŠ› - ä¼¤å®³å€¼
        if æœ¬åº§.å†…åŠ› <= 0:
            æœ¬åº§.å†…åŠ› = 0
            æœ¬åº§.çŠ¶æ€ = "é‡ä¼¤å€’åœ°"
            è¾“å‡º(f"aaa {æœ¬åº§.åå·} åå‡ºä¸€å£é²œè¡€ï¼Œæ”¯æ’‘ä¸ä½äº†ï¼")
        else:
            è¾“å‡º(f"   {æœ¬åº§.åå·} å‰©ä½™å†…åŠ›ï¼š{æœ¬åº§.å†…åŠ›}")
            ç­‰å¾…(1) # æš‚åœä¸€ä¸‹ï¼Œå¢åŠ é˜…è¯»æ²‰æµ¸æ„Ÿ

    def è¿˜èƒ½å†æˆ˜(æœ¬åº§):
        return æœ¬åº§.å†…åŠ› > 0

def ç´«ç¦ä¹‹å·…å†³æ–—():
    è¾“å‡º("="*30)
    è¾“å‡º("       ğŸŒ™ å†³æˆ˜ç´«ç¦ä¹‹å·… ğŸŒ™")
    è¾“å‡º("="*30)
    ç­‰å¾…(1)

    # å®ä¾‹åŒ–å¯¹è±¡
    å‰‘ç¥ = ä¾ å®¢(å°Šå§“å¤§å="è¥¿é—¨å¹é›ª", åˆå§‹å†…åŠ›=100, ç‹¬é—¨ç»æŠ€="ä¸€å‰‘è¥¿æ¥")
    å‰‘åœ£ = ä¾ å®¢(å°Šå§“å¤§å="å¶å­¤åŸ", åˆå§‹å†…åŠ›=100, ç‹¬é—¨ç»æŠ€="å¤©å¤–é£ä»™")

    å‰‘ç¥.å±•ç¤ºåå¸–()
    å‰‘åœ£.å±•ç¤ºåå¸–()
    
    è¾“å‡º("-" * 30)
    è¾“å‡º("å†³æ–—å¼€å§‹ï¼")
    è¾“å‡º("-" * 30)
    ç­‰å¾…(1)

    å›åˆæ•° = 1
    
    # åªè¦ä¸¤äººéƒ½æ´»ç€ï¼Œå°±ç»§ç»­æ‰“
    while å‰‘ç¥.è¿˜èƒ½å†æˆ˜() and å‰‘åœ£.è¿˜èƒ½å†æˆ˜():
        è¾“å‡º(f"\n--- ç¬¬ {å›åˆæ•°} å›åˆ ---")
        
        # åŒæ–¹è½®æµå‡ºæ‹›
        if å‰‘ç¥.è¿˜èƒ½å†æˆ˜():
            å‰‘ç¥.å‡ºæ‹›(å¯¹æ‰‹=å‰‘åœ£)
        
        if å‰‘åœ£.è¿˜èƒ½å†æˆ˜():
            å‰‘åœ£.å‡ºæ‹›(å¯¹æ‰‹=å‰‘ç¥)
            
        å›åˆæ•° += 1
        ç­‰å¾…(1.5)

    è¾“å‡º("\n" + "="*30)
    if å‰‘ç¥.è¿˜èƒ½å†æˆ˜():
        è¾“å‡º(f"ğŸ† èƒœè€…ï¼š{å‰‘ç¥.åå·}ï¼æ±Ÿæ¹–ç•™ä¸‹äº†ä»–çš„ä¼ è¯´ã€‚")
    else:
        è¾“å‡º(f"ğŸ† èƒœè€…ï¼š{å‰‘åœ£.åå·}ï¼è¿™æ‰æ˜¯çœŸæ­£çš„å‰‘é“å·…å³°ã€‚")
    è¾“å‡º("="*30)

# ç¨‹åºå…¥å£
if __name__ == "__main__":
    ç´«ç¦ä¹‹å·…å†³æ–—()
```

å¦‚æœè¿è¡Œè¿™æ®µç¨‹åºï¼Œæ§åˆ¶å°ä¼šè¾“å‡ºç±»ä¼¼ä¸‹é¢çš„å†…å®¹ï¼š
```
==============================
       ğŸŒ™ å†³æˆ˜ç´«ç¦ä¹‹å·… ğŸŒ™
==============================
ã€è¥¿é—¨å¹é›ªã€‘ è¸å…¥äº†æ±Ÿæ¹–ï¼Œå†…åŠ›æ·±åšï¼š100
ã€å¶å­¤åŸã€‘ è¸å…¥äº†æ±Ÿæ¹–ï¼Œå†…åŠ›æ·±åšï¼š100
------------------------------
å†³æ–—å¼€å§‹ï¼
------------------------------

--- ç¬¬ 1 å›åˆ ---
âš¡ è¥¿é—¨å¹é›ª æ€’å¼ä¸€å£°ï¼Œä½¿å‡ºäº†æ¯•ç”Ÿç»å­¦ã€Œä¸€å‰‘è¥¿æ¥ã€ï¼
   å¤©å´©åœ°è£‚ï¼å¯¹ å¶å­¤åŸ é€ æˆäº† 33 ç‚¹æš´å‡»ä¼¤å®³ï¼
   å¶å­¤åŸ å‰©ä½™å†…åŠ›ï¼š67
âš”ï¸ å¶å­¤åŸ ä½¿å‡ºä¸€æ‹›ã€Œé»‘è™æå¿ƒã€ï¼Œå‡»ä¸­äº† è¥¿é—¨å¹é›ªã€‚
   é€ æˆäº† 19 ç‚¹ä¼¤å®³ã€‚
   è¥¿é—¨å¹é›ª å‰©ä½™å†…åŠ›ï¼š81

--- ç¬¬ 2 å›åˆ ---
âš¡ è¥¿é—¨å¹é›ª æ€’å¼ä¸€å£°ï¼Œä½¿å‡ºäº†æ¯•ç”Ÿç»å­¦ã€Œä¸€å‰‘è¥¿æ¥ã€ï¼
   å¤©å´©åœ°è£‚ï¼å¯¹ å¶å­¤åŸ é€ æˆäº† 37 ç‚¹æš´å‡»ä¼¤å®³ï¼
   å¶å­¤åŸ å‰©ä½™å†…åŠ›ï¼š30
âš”ï¸ å¶å­¤åŸ ä½¿å‡ºä¸€æ‹›ã€Œé»‘è™æå¿ƒã€ï¼Œå‡»ä¸­äº† è¥¿é—¨å¹é›ªã€‚
   é€ æˆäº† 10 ç‚¹ä¼¤å®³ã€‚
   è¥¿é—¨å¹é›ª å‰©ä½™å†…åŠ›ï¼š71

--- ç¬¬ 3 å›åˆ ---
âš”ï¸ è¥¿é—¨å¹é›ª ä½¿å‡ºä¸€æ‹›ã€Œå¤ªç¥–é•¿æ‹³ã€ï¼Œå‡»ä¸­äº† å¶å­¤åŸã€‚
   é€ æˆäº† 17 ç‚¹ä¼¤å®³ã€‚
   å¶å­¤åŸ å‰©ä½™å†…åŠ›ï¼š13
âš”ï¸ å¶å­¤åŸ ä½¿å‡ºä¸€æ‹›ã€Œæ‰«å ‚è…¿ã€ï¼Œå‡»ä¸­äº† è¥¿é—¨å¹é›ªã€‚
   é€ æˆäº† 13 ç‚¹ä¼¤å®³ã€‚
   è¥¿é—¨å¹é›ª å‰©ä½™å†…åŠ›ï¼š58

--- ç¬¬ 4 å›åˆ ---
âš”ï¸ è¥¿é—¨å¹é›ª ä½¿å‡ºä¸€æ‹›ã€Œå¤ªç¥–é•¿æ‹³ã€ï¼Œå‡»ä¸­äº† å¶å­¤åŸã€‚
   é€ æˆäº† 14 ç‚¹ä¼¤å®³ã€‚
aaa å¶å­¤åŸ åå‡ºä¸€å£é²œè¡€ï¼Œæ”¯æ’‘ä¸ä½äº†ï¼

==============================
ğŸ† èƒœè€…ï¼šè¥¿é—¨å¹é›ªï¼æ±Ÿæ¹–ç•™ä¸‹äº†ä»–çš„ä¼ è¯´ã€‚
==============================
```





## æ‰“å°è‡ªèº«çš„ç¨‹åº

### Quine ç®—æ³•

å¦‚æœç¨‹åºä¿å­˜åœ¨æ–‡ä»¶ä¸­ï¼Œæœ€ç®€å•çš„æ–¹å¼æ˜¯è®©ç¨‹åºè¯»å–è‡ªå·±æ‰€åœ¨çš„æ–‡ä»¶ï¼Œç„¶åæŠŠå®ƒæ‰“å°å‡ºæ¥ï¼š

```python
print(open(__file__).read())
```

å¦‚æœç¨‹åºåªåœ¨å†…å­˜ä¸­ï¼Œæˆ–è€…ä¸å¯ä»¥è°ƒç”¨æ–‡ä»¶è¯»å†™å‡½æ•°ï¼Œé‚£ä¹ˆå¯ä»¥é‡‡ç”¨ Quine ç®—æ³•ï¼Œä¹Ÿå«â€œè‡ªäº§ç”Ÿç¨‹åºâ€ã€‚å®ƒæ˜¯ä»¥ç¾å›½å“²å­¦å®¶å¥æ©ï¼ˆWillard Van Orman Quineï¼‰å‘½åçš„ç®—æ³•ã€‚å®ƒçš„å·¥ä½œåŸç†å¤§è‡´å¦‚ä¸‹ï¼š

- æŠŠç¨‹åºåˆ’åˆ†æˆä¸¤ä¸ªä¸»è¦éƒ¨åˆ†ï¼š A å’Œ B
   - æˆ‘ä»¬å…ˆå®šä¹‰ä¸€ä¸ªå‡½æ•° Qï¼Œå¯¹äºå­—ç¬¦ä¸² Aï¼ŒQ(A) åœ¨æ‰§è¡Œåä¼šå˜æˆå­—ç¬¦ä¸² Bã€‚
   - A éƒ¨åˆ†æ˜¯ç”¨å­—ç¬¦ä¸²è¡¨ç¤ºçš„ B éƒ¨åˆ†çš„ä»£ç 
   - B éƒ¨åˆ†çš„ä»£ç å¯ä»¥æ¥æ”¶ä¸€æ®µå­—ç¬¦ä¸² Aï¼Œç„¶åè°ƒç”¨å‡½æ•° Q è®¡ç®—å‡º Q(A)ï¼Œç„¶åæ‰“å°å‡º A å’Œ Q(A)

### `repr()` å‡½æ•°

åœ¨ç¼–å†™ Python ä»£ç ä¹‹å‰ï¼Œå…ˆè¦ä»‹ç»ä¸€ä¸‹ Python è‡ªå¸¦çš„ `repr()` å‡½æ•°ã€‚`repr()` å‡½æ•°è¿è¡Œåè¿”å›ä¸€ä¸ªè¾“å…¥å¯¹è±¡çš„â€œå®˜æ–¹â€å­—ç¬¦ä¸²è¡¨ç¤ºï¼Œè¿™ä¸ªå­—ç¬¦ä¸²é€šå¸¸å¯ä»¥ç”¨æ¥é‡æ–°åˆ›å»ºè¯¥å¯¹è±¡ã€‚å…¶ä¸»è¦ç›®çš„æ˜¯è°ƒè¯•å’Œå¼€å‘ã€‚

`repr()` çš„è¾“å‡ºä¸»è¦æ˜¯ç»™å¼€å‘è€…çœ‹çš„ï¼Œå…¶ç›®çš„æ˜¯æ˜ç¡®æ— è¯¯åœ°è¡¨è¾¾å¯¹è±¡çš„ç±»å‹å’Œï¼ˆæœ€å…³é”®çš„ï¼‰ç‰¹å¾ã€‚ä¸åŒäº `str()` å‡½æ•°ï¼Œ`str()` æ›´æ³¨é‡äºå¯è¯»æ€§ï¼Œè€Œ `repr()` æ›´æ³¨é‡äºæ˜ç¡®æ€§å’Œä¸€è‡´æ€§ã€‚å¦‚æœè¾“å…¥çš„å¯¹è±¡æ˜¯ Python å†…ç½®ç±»å‹ï¼Œè¿™ä¸ªå­—ç¬¦ä¸²å¯ä»¥ç›´æ¥ç”¨ Python è¡¨è¾¾å¼æ¥è®¡ç®—å¾—åˆ°ç›¸åº”çš„å¯¹è±¡ã€‚

æ¯”å¦‚è¿è¡Œä¸‹é¢çš„ç¨‹åºï¼Œå¯ä»¥çœ‹å‡º repr() çš„ç‰¹ç‚¹ï¼š

```python
x = "abc"
print(str(x))   # è¾“å‡ºæ˜¯æ²¡æœ‰å¼•å·çš„ï¼Œè¿™å°±æ˜¯å­—ç¬¦ä¸²çš„æ‰“å°ç»“æœï¼š abc
print(repr(x))  # è¾“å‡ºæ˜¯å¸¦æœ‰å¼•å·çš„ï¼Œè¡¨ç¤ºå¦‚æœçš„å¯¹è±¡æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼š 'abc'
```

å¯¹äºæˆ‘ä»¬è‡ªå·±å®šä¹‰çš„å¯¹è±¡ï¼Œå¯ä»¥é€šè¿‡åœ¨ç±»ä¸­å®šä¹‰ `__repr__()` æ–¹æ³•æ¥ä¸ºè‡ªå®šä¹‰å¯¹è±¡å®ç° `repr()` å‡½æ•°çš„æ•ˆæœã€‚å½“ `repr(obj)` è¢«è°ƒç”¨æ—¶ï¼ŒPython ä¼šå¯»æ‰¾ `obj` çš„ç±»å®šä¹‰ä¸­çš„ `__repr__()` æ–¹æ³•ï¼Œå¹¶æ‰§è¡Œå®ƒã€‚æ¯”å¦‚ï¼š

```python
class Test:
    def __init__(self, value):
        self.value = value

    def __repr__(self):
        return f'Test({self.value!r})'

# åˆ›å»º Test å¯¹è±¡
obj = Test('hello world')

# ä½¿ç”¨ repr() å‡½æ•°
print(repr(obj))  # è¾“å‡ºï¼šTest('hello world')

# å†…ç½®ç±»å‹çš„ä¾‹å­
print(repr(123))        # è¾“å‡ºï¼š'123'
print(repr([1, 2, 3]))  # è¾“å‡ºï¼š'[1, 2, 3]'
```

åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ`Test` ç±»å®šä¹‰äº† `__repr__()` æ–¹æ³•ï¼Œè¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªæ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼Œå±•ç¤ºäº†å¦‚ä½•åˆ›å»ºä¸€ä¸ªä¸å½“å‰å¯¹è±¡å…·æœ‰ç›¸åŒå€¼çš„æ–°å¯¹è±¡ã€‚è¿™ç§åšæ³•æé«˜äº†ä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ï¼Œå°¤å…¶æ˜¯åœ¨è°ƒè¯•æ—¶ã€‚


### Python çš„è‡ªäº§ç”Ÿç¨‹åº

å€ŸåŠ© repr æœºåˆ¶ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ Python ä¸­è½»æ¾çš„ç¼–å†™ä¸€æ®µè‡ªäº§ç”Ÿç¨‹åºï¼š

```python
x = 'y = "x =" + repr(x) + "\\n"\nprint(y+x)'
y = "x =" + repr(x) + "\n"
print(y+x)
```

ä¸Šé¢è¿™æ®µä»£ç ä¸­ç¬¬ä¸€è¡Œæ˜¯ Quine ç®—æ³•çš„ A éƒ¨åˆ†ï¼Œå®ƒå®šä¹‰äº†ä¸€ä¸ªç”¨å­—ç¬¦ä¸²è¡¨ç¤ºçš„ B éƒ¨åˆ†çš„ä»£ç ã€‚ç¨‹åºçš„åä¸¤è¡Œæ˜¯ B éƒ¨åˆ†ã€‚

Python ä¸­ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ `%r` è¿™ä¸ªå­—ç¬¦ä¸²æ ¼å¼åŒ–ç¬¦å·ï¼Œéšå¼è°ƒç”¨ repr() å‡½æ•°ï¼ŒæŠŠä¸€ä¸ªå¯¹è±¡ç›´æ¥åµŒå…¥åˆ°ä¸€æ®µå­—ç¬¦ä¸²ä¸­å»ã€‚ä½¿ç”¨ `%r` æ ¼å¼åŒ–ç¬¦å·ï¼Œå¯ä»¥è®©è‡ªäº§ç”Ÿç¨‹åºæ›´ç®€æ´ï¼š

```python
x='x=%r;print(x%%x)';print(x%x)
```

## è§£å†³æ•°ç‹¬é—®é¢˜

æ•°ç‹¬ï¼ˆSudokuï¼‰æ˜¯ä¸€ç§æ•°å­—è°œé¢˜æ¸¸æˆï¼Œæºè‡ªæ—¥æœ¬ï¼Œåå­—æ„ä¸º"æ•°å­—ç‹¬ç«‹"ã€‚å®ƒçš„åŸºæœ¬ç©æ³•æ˜¯åœ¨ä¸€ä¸ª 9Ã—9 çš„æ ¼å­ä¸­å¡«å…¥æ•°å­—ï¼Œå¹¶éµå¾ªä»¥ä¸‹è§„åˆ™ï¼š
- æ¯è¡Œå¿…é¡»åŒ…å« 1 åˆ° 9 çš„æ•°å­—ï¼Œä¸”ä¸èƒ½é‡å¤ã€‚
- æ¯åˆ—å¿…é¡»åŒ…å« 1 åˆ° 9 çš„æ•°å­—ï¼Œä¸”ä¸èƒ½é‡å¤ã€‚
- æ¯ä¸ª 3Ã—3 çš„å°æ–¹æ ¼ï¼ˆåŒºåŸŸï¼‰å¿…é¡»åŒ…å« 1 åˆ° 9 çš„æ•°å­—ï¼Œä¸”ä¸èƒ½é‡å¤ã€‚
é€šå¸¸ï¼Œæ•°ç‹¬è°œé¢˜çš„åˆå§‹ç›˜é¢ä¼šé¢„å¡«ä¸€äº›æ•°å­—ï¼Œç©å®¶éœ€è¦æ ¹æ®è¿™äº›å·²çŸ¥æ•°å­—ï¼Œæ¨ç†å‡ºå‰©ä½™æ ¼å­ä¸­çš„æ­£ç¡®æ•°å­—ã€‚

### è§£æ³• 1 - æ’é™¤æ³•

é€šå¸¸ï¼Œè®¾è®¡çš„æ¯”è¾ƒå¥½çš„ï¼Œç›¸å¯¹ç®€å•çš„æ•°ç‹¬æ¸¸æˆï¼Œä¼šæœ‰ä¸€ä¸ªä¸éœ€è¦çŒœæµ‹ï¼Œç›´æ¥æ¨ç†å°±å¯ä»¥å¾—åˆ°çš„å”¯ä¸€è§£ã€‚å¯¹äºè¿™ç±»ç®€å•æ¸¸æˆï¼Œå¯ä»¥é‡‡ç”¨ä»¥ä¸‹æ€è·¯è§£å†³é—®é¢˜ï¼š

ä»å·¦åˆ°å³ã€ä»ä¸Šåˆ°ä¸‹åœ°æ‰«ææ¯ä¸€è¡Œã€æ¯ä¸€åˆ—ã€‚é’ˆå¯¹æ¯ä¸ªå•å…ƒæ ¼ï¼Œåˆ¤æ–­æœ‰å“ªäº›å¯ä¾›é€‰æ‹©çš„ï¼Œåœ¨æ¯è¡Œã€æ¯åˆ—å’Œæ¯ä¸ªåŒºåŸŸå†…éƒ½æ²¡å‡ºç°è¿‡çš„æ•°å­—ã€‚å¦‚æœæ‰¾åˆ°äº†åªæœ‰ä¸€ä¸ªå¯èƒ½æ•°å­—çš„ç©ºæ ¼ï¼Œåˆ™å¯ä»¥å¡«å…¥é‚£ä¸ªå”¯ä¸€ä¸ªèƒ½çš„æ•°å­—ä½œä¸ºç­”æ¡ˆã€‚é‡å¤è¿™ä¸€è¿‡ç¨‹ï¼Œç›´åˆ°æ¯ä¸ªå•å…ƒæ ¼éƒ½è¢«å¡«æ»¡æ•°å­—å³å¯ã€‚

è¿™ä¸ªç®—æ³•çš„ä¼˜ç‚¹æ˜¯è¿è¡Œé€Ÿåº¦å¿«ï¼Œä½†å®ƒåªèƒ½è§£å†³ç®€å•çš„æ•°ç‹¬é—®é¢˜ã€‚å¦‚æœç¨‹åºè¿”å›çš„ç»“æœä»ç„¶è¿˜æœ‰ç©ºæ ¼ï¼ˆæ•°å­— 0ï¼‰ï¼Œé‚£ä¹ˆè¯´æ˜é—®é¢˜æ¯”è¾ƒå¤æ‚ï¼Œéœ€è¦é‡‡å–å…¶å®ƒè§£å†³æ–¹æ³•ã€‚

ç¨‹åºå¦‚ä¸‹ï¼š

```python
# ç”¨ä¸€ä¸ªäºŒç»´åˆ—è¡¨è¡¨ç¤ºæ•°ç‹¬é—®é¢˜ã€‚0 è¡¨ç¤ºç©ºæ ¼ï¼Œå…¶å®ƒæ•°å­—æ˜¯é—®é¢˜ç»™å®šçš„åˆå§‹æ•°å­—
sudoku_puzzle = [
    [2, 0, 0, 0, 0, 0, 6, 9, 0],
    [0, 5, 0, 0, 0, 3, 0, 0, 0],
    [1, 7, 0, 0, 0, 9, 4, 0, 5],
    [0, 0, 3, 0, 2, 5, 0, 1, 8],
    [0, 0, 0, 0, 4, 0, 0, 0, 0],
    [7, 2, 0, 3, 8, 0, 5, 0, 0],
    [5, 0, 2, 6, 0, 0, 0, 4, 1],
    [0, 0, 0, 5, 0, 0, 0, 7, 0],
    [0, 6, 7, 0, 0, 0, 0, 0, 3],
]

def get_block_numbers(position, grid):
    """è¿”å›ä¸€ä¸ª 3x3 åŒºåŸŸå†…æ‰€æœ‰å·²ç»å­˜åœ¨çš„æ‰€æœ‰æ•°å­—ã€‚"""
    block_row, block_col = position[0] // 3, position[1] // 3
    return [grid[r + 3 * block_row][c + 3 * block_col] for r in range(3) for c in range(3)]

def get_possible_numbers(position, grid):
    """è¿”å›å½“å‰ä½ç½®ï¼Œå¯ä»¥å¡«å†™çš„æ‰€æœ‰æ•°å­—"""
    if sudoku_puzzle[position[0]][position[1]] > 0:
        return {sudoku_puzzle[position[0]][position[1]]}

    row_numbers = set(grid[position[0]])
    col_numbers = set(row[position[1]] for row in grid)
    block_numbers = set(get_block_numbers(position, grid))

    all_numbers = set(range(1, 10))
    used_numbers = row_numbers | col_numbers | block_numbers
    return all_numbers - used_numbers

def solve_sudoku(grid):
    """ä½¿ç”¨æ’é™¤æ³•è§£å†³æ•°ç‹¬é—®é¢˜"""
    solved = False
    while not solved:
        solved = True
        for i in range(9):
            for j in range(9):
                if grid[i][j] == 0:
                    possible_numbers = get_possible_numbers((i, j), grid)
                    if len(possible_numbers) == 1:
                        grid[i][j] = possible_numbers.pop()
                        solved = False

    print("ç­”æ¡ˆï¼š")
    for row in grid:
        print(row)

# ä¸»ç¨‹åºå…¥å£
solve_sudoku(sudoku_puzzle)
```

### è§£æ³• 2 - å›æº¯æ³•

å¦‚æœä¸èƒ½ç¡®å®šç»™å®šçš„æ•°ç‹¬é—®é¢˜æ˜¯å¦å…·æœ‰å”¯ä¸€è§£ï¼Œé‚£ä¹ˆå°±éœ€è¦é‡‡ç”¨ä¸€ç§æ›´å¤æ‚çš„è§£æ³•ï¼šä»å·¦åˆ°å³ã€ä»ä¸Šåˆ°ä¸‹åœ°é’ˆå¯¹æ¯ä¸ªå•å…ƒæ ¼ï¼Œåˆ—å‡ºå…¶ç›®å‰æœ‰å¯èƒ½å¯ä»¥å¡«å…¥çš„æ•°å­—ï¼Œç„¶åé€ä¸€å°è¯•ï¼Œä¹Ÿå°±æ˜¯å…ˆå¡«å…¥ä¸€ä¸ªå¯èƒ½çš„æ•°å­—ï¼Œç»§ç»­è§£å†³ä¸‹ä¸€ä¸ªå•å…ƒæ ¼ã€‚å¦‚æœåç»­è§£é¢˜è¿‡ç¨‹ä¸­å‡ºç°å†²çªï¼Œè¯´æ˜ä¹‹å‰å‡è®¾é”™è¯¯ï¼Œå¯ä»¥å›æº¯åˆ°ä¹‹å‰çš„çŠ¶æ€ï¼Œå†é€‰æ‹©å°è¯•å…¶å®ƒå¯èƒ½çš„æ•°å­—ã€‚ç›´åˆ°æ‰¾åˆ°å¯ä»¥æ»¡è¶³æ‰€æœ‰å•å…ƒæ ¼çš„æ•°å­—ç»„åˆæ–¹å¼ã€‚

è¿™ç§ç®—æ³•é€Ÿåº¦è¾ƒæ…¢ï¼Œé€‚ç”¨äºéš¾åº¦è¾ƒå¤§çš„æ•°ç‹¬é—®é¢˜ã€‚å¦‚æœé—®é¢˜æœ‰å¤šä¸ªè§£ï¼Œå®ƒä¼šæ‰“å°å‡ºæ‰€æœ‰æœ‰æ•ˆçš„è§£æ³•ã€‚

ç¨‹åºå¦‚ä¸‹ï¼š

```python
# ç”¨ä¸€ä¸ªäºŒç»´åˆ—è¡¨è¡¨ç¤ºæ•°ç‹¬é—®é¢˜ã€‚0 è¡¨ç¤ºç©ºæ ¼ï¼Œå…¶å®ƒæ•°å­—æ˜¯é—®é¢˜ç»™å®šçš„åˆå§‹æ•°å­—
sudoku_puzzle = [
    [0, 0, 0, 0, 0, 0, 2, 0, 8],
    [9, 2, 0, 0, 0, 4, 0, 0, 0],
    [0, 0, 0, 2, 0, 8, 0, 7, 1],
    [0, 3, 6, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 7, 0, 9, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 6, 4, 0],
    [8, 6, 0, 4, 0, 1, 0, 0, 0],
    [0, 0, 0, 9, 0, 0, 0, 2, 7],
    [2, 0, 9, 0, 0, 0, 0, 0, 0],
]

# åˆ—å‡º 9*9 å®«æ ¼å†…çš„æ‰€æœ‰ä½ç½®ï¼Œæ–¹ä¾¿ç¨‹åºä¸­ä½¿ç”¨
all_positions = [(row, col) for row in range(9) for col in range(9)]

# ä¸ºæ•°ç‹¬ 9*9 å®«æ ¼ç”Ÿæˆä¸€ä¸ªå‰¯æœ¬ï¼Œç”¨äºä¿å­˜ç­”æ¡ˆ
solution = [row[:] for row in sudoku_puzzle]


def get_block_numbers(position, grid):
    """è¿”å›ä¸€ä¸ª 3x3 åŒºåŸŸå†…æ‰€æœ‰å·²ç»å­˜åœ¨çš„æ‰€æœ‰æ•°å­—ã€‚"""
    block_row, block_col = position[0] // 3, position[1] // 3
    return [grid[r + 3 * block_row][c + 3 * block_col] for r in range(3) for c in range(3)]


def get_possible_numbers(position, grid):
    """è¿”å›å½“å‰ä½ç½®ï¼Œå¯ä»¥å¡«å†™çš„æ‰€æœ‰æ•°å­—"""
    if sudoku_puzzle[position[0]][position[1]] > 0:
        return [sudoku_puzzle[position[0]][position[1]]]

    row_numbers = set(grid[position[0]])
    col_numbers = set(row[position[1]] for row in grid)
    block_numbers = set(get_block_numbers(position, grid))

    all_numbers = set(range(1, 10))
    used_numbers = row_numbers | col_numbers | block_numbers
    return all_numbers - used_numbers


def solve_sudoku(position_index, grid):
    """ä½¿ç”¨é€’å½’æ–¹æ³•è§£å†³æ•°ç‹¬é—®é¢˜"""
    if position_index == 81:
        print("\nSolution:\n")
        for row in grid:
            print(row)
        return True

    position = all_positions[position_index]
    possible_numbers = get_possible_numbers(position, grid)

    for number in possible_numbers:
        grid[position[0]][position[1]] = number
        if solve_sudoku(position_index + 1, grid):
            return True

    grid[position[0]][position[1]] = sudoku_puzzle[position[0]][position[1]]
    return False


# ä¸»ç¨‹åºå…¥å£
solve_sudoku(0, solution)
```

## è§£å†³ 24 ç‚¹é—®é¢˜

24 ç‚¹æ˜¯ä¸€ç§ç®€å•çš„æ•°å­¦è®¡ç®—æ¸¸æˆï¼Œä½¿ç”¨æ‰‘å…‹ç‰Œä½œä¸ºé“å…·ã€‚ç©æ³•æ˜¯éšæœºæŠ½å– 4 å¼ ç‰Œï¼Œé€šè¿‡åŠ å‡ä¹˜é™¤è¿ç®—ç»„åˆç‰Œé¢çš„æ•°å­—ï¼Œè®¡ç®—å‡º 24ã€‚ä¾‹å¦‚ï¼ŒæŠ½åˆ°çš„ 4 å¼ ç‰Œä¸Šçš„æ•°å­—åˆ†åˆ«ä¸º 1ã€2ã€3ã€4ï¼Œå¯ä»¥é€šè¿‡ 1 * 2 * 3 * 4 å¾—åˆ° 24ã€‚å¯¹äºä»»æ„çš„ 4 ä¸ªæ•°å­—ï¼Œå¯èƒ½æœ‰å¤šç§æ–¹æ³•è®¡ç®—å‡º 24ï¼Œä¾‹å¦‚ (1 + 2 + 3) * 4 ä¹Ÿå¯ä»¥å¾—åˆ° 24ã€‚å¤šæ•°æƒ…å†µä¸‹ï¼Œæ¯”è¾ƒå®¹æ˜“æ‰¾åˆ°ä¸€ç§è§£æ³•ï¼›ä½†æœ‰æ—¶æŸäº›æ•°å­—ç»„åˆå¯èƒ½éš¾ä»¥æ‰¾åˆ°è§£ï¼Œç”šè‡³æ ¹æœ¬ä¸å­˜åœ¨è§£ã€‚

æˆ‘ä»¬å¯ä»¥ç”¨ä¸¤ç§æ–¹æ³•æ¥è§£å†³ 24 ç‚¹é—®é¢˜ã€‚

### ç®€åŒ–è§£æ³•ï¼ˆé€’å½’ï¼‰

ç¬¬ä¸€ç§æ–¹æ³•æ˜¯ç®€åŒ–çš„è§£æ³•ï¼Œé€»è¾‘ç®€å•æ˜“æ‡‚ï¼Œèƒ½å¤Ÿå¤„ç†å¤§éƒ¨åˆ†é¢˜ç›®ã€‚è¿™ä¸ªç®—æ³•é¦–å…ˆè€ƒè™‘ä¸¤ä¸ªæ•°å­—ï¼Œé€šè¿‡åŠ å‡ä¹˜é™¤å¾—åˆ°æœ€å¤š 6 ä¸ªç»“æœï¼Œç„¶åé€’å½’åœ°å¢åŠ ä¸€ä¸ªæ•°å­—ï¼Œå¾—åˆ°æ‰€æœ‰ä¸‰ä¸ªæ•°å­—çš„ç»“æœï¼Œå†é€’å½’å¢åŠ ä¸€ä¸ªæ•°å­—ï¼Œå¾—åˆ°æ‰€æœ‰ 4 ä¸ªæ•°å­—çš„å¯èƒ½ç»“æœã€‚å¦‚æœå…¶ä¸­æœ‰ç»“æœæ˜¯ 24ï¼Œé‚£ä¹ˆé—®é¢˜å°±è§£å†³äº†ã€‚ç„¶è€Œï¼Œè¿™ç§é€’å½’æ–¹æ³•é—æ¼äº†ä¸€ç§æƒ…å†µï¼Œå³ 4 ä¸ªæ•°å­—å¿…é¡»å…ˆä¸¤ä¸¤è®¡ç®—ï¼Œç„¶åå†å¾—åˆ°æœ€ç»ˆç»“æœï¼Œä¾‹å¦‚ (1+2)*(1+7)ã€‚å…¶ç¨‹åºä»£ç å¦‚ä¸‹ï¼š

```python
from typing import List, Callable, Dict

# å®šä¹‰è¿ç®—ç¬¦å’Œæ‰€å¯¹åº”çš„è¿ç®—çš„ Lambda å‡½æ•°
Operators: Dict[str, Callable[[float, float], float]] = {
    "+": lambda a, t: t - a,
    "-": lambda a, t: a - t,
    "*": lambda a, t: t / a if a != 0 else None,
    "/": lambda a, t: a / t if t != 0 else None,
}

def calculate(numbers: List[int], target: float, message: str = ''):
    if len(numbers) == 1:
        if numbers[0] == target:
            print(f"{message[:-1]}{numbers[0]}))")
        return
    
    for num in set(numbers):
        remaining = numbers.copy()
        remaining.remove(num)
        for operator, solve in Operators.items():
            result = solve(num, target)
            if result is not None:
                calculate(remaining, result, f"{message}{num}{operator}(")

# è¿è¡Œæµ‹è¯•ï¼š
calculate([3, 3, 8, 8], 24)
```

### å…¨é¢è§£æ³•

å¦‚æœè¦å…¨é¢æ‰¾åˆ°æ¯ä¸­å¯èƒ½çš„ç­”æ¡ˆï¼Œå°±è¿˜è¦è€ƒè™‘è®¡ç®—çš„ä¼˜å…ˆçº§ã€‚ä¾‹å¦‚ (a + b) * (c + d) è¿™ç§ç»“æ„ã€‚æˆ‘ä»¬å¯ä»¥æŠŠæ•°å­—å…ˆåˆ†æˆä¸¤ç»„ï¼Œç»„å†…ä¼˜å…ˆè®¡ç®—å‡ºä¸€ä¸ªç»“æœï¼Œä¸¤ç»„ä¹‹é—´çš„ç»“æœå†è¿›è¡Œè®¡ç®—ï¼Œè¿™æ ·å°±è¦†ç›–äº†æ‰€æœ‰å¯èƒ½çš„è®¡ç®—äº†ã€‚å…¶å®ç°ä»£ç å¦‚ä¸‹ï¼š

```python
from copy import deepcopy
from typing import List
from math import nan

# Define basic operators
Operators = {
    "+": lambda a, b: a + b,
    "*": lambda a, b: a * b,
}

# Define operators that require order consideration
Order_Operators = {
    "-": lambda a, b: a - b,
    "/": lambda a, b: nan if b == 0 else a / b,
}

Target = 24

# Function to print results if they match the target
def print_result(a_value: float, a_string: str, b_value: float, b_string: str):
    for operator, solve in {**Operators, **Order_Operators}.items():
        if abs(solve(a_value, b_value) - Target) < 0.001:
            print(f"{a_string} {operator} {b_string}")
        if operator in Order_Operators and abs(solve(b_value, a_value) - Target) < 0.001:
            print(f"{b_string} {operator} {a_string}")

# Function to generate all 1-3 groups of numbers
def all_1_3_groups(numbers: List[int]):
    return {numbers[i]: numbers[:i] + numbers[i+1:] for i in range(len(numbers))}

# Function to generate all 2-2 groups of numbers
def all_2_2_groups(numbers: List[int]):
    return [
        [(numbers[0], numbers[1]), (numbers[2], numbers[3])],
        [(numbers[0], numbers[2]), (numbers[1], numbers[3])],
        [(numbers[0], numbers[3]), (numbers[1], numbers[2])]
    ]

# Function to process two operands and return results
def process_2_operands(a_value: float, a_string: str, b_value: float, b_string: str):
    results = []
    for operator, solve in {**Operators, **Order_Operators}.items():
        results.append((solve(a_value, b_value), f"({a_string} {operator} {b_string})"))
        if operator in Order_Operators:
            results.append((solve(b_value, a_value), f"({b_string} {operator} {a_string})"))
    return results

# Function to process three operands and return results
def process_3_operands(numbers_3: List[int]):
    results = []
    for num in set(numbers_3):
        numbers = deepcopy(numbers_3)
        numbers.remove(num)
        results_2_operands = process_2_operands(numbers[0], str(numbers[0]), numbers[1], str(numbers[1]))
        for result_2 in results_2_operands:
            results += process_2_operands(num, str(num), result_2[0], result_2[1])
    return results

# Function to process four operands and print results
def process_4_operands(numbers: List[int]):
    for num, others in all_1_3_groups(numbers).items():
        results_3_operands = process_3_operands(others)
        for result_3 in results_3_operands:
            print_result(num, str(num), result_3[0], result_3[1])
    for group in all_2_2_groups(numbers):
        results_a = process_2_operands(group[0][0], str(group[0][0]), group[0][1], str(group[0][1]))
        results_b = process_2_operands(group[1][0], str(group[1][0]), group[1][1], str(group[1][1]))
        for a in results_a:
            for b in results_b:
                print_result(a[0], a[1], b[0], b[1])
    print("Done.")

# Example usage
process_4_operands([1, 2, 1, 7])
```
